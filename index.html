<!doctype html>
<html>
	<head>
		<link href="https://fonts.googleapis.com/css?family=Baloo+Bhaijaan|Lobster" rel="stylesheet">
		<link rel="stylesheet" href="./font-awesome/css/font-awesome.min.css">
	    <link rel="stylesheet" type="text/css" href="./css/style.css"/>
		<script src="./js/jquery.min.js"></script>
		<script src="./js/cefetflix.js"></script>	
		<script>
			$(function(){
			console.log(filmes);
				$.each(filmes,function(indice,filme){
					var $ul = $("<ul />");
					var $ul1 = $("<ul />");
					var $ul2 = $("<ul />");
					var $div = $("<div />");
					var $div1 = $("<div />");
					 function estrela(nota){
						$div = $("<div />");
						for( var i=1 ;i<=nota ;i++){
								$div.append($("<i />")
									.addClass("fa fa-star")
									.attr("aria-hidden","true")
								)
						}
						return $div
					}
					$.each(filme.opinioes,function(indice,rat){
						$ul.append($("<li />")
								.text(rat.descricao)
								.prepend(estrela(rat.rating))
						)
						
						
					})
					$.each(filme.elenco,function(indice,part){
						$ul1.append($("<li />")
							.text(part)
						)
					})
					$.each(filme.generos,function(indice,gen){
						$ul2.append($("<li />")
							.text(gen)
						)
					})
					$.each(filme.titulosSemelhantes,function(indi,rel){
						$.each(filmes,function(ind,film){
							if(rel == ind){
								$div1.append($("<img />")
									.attr("src",film.figura)
									
									
								)
								.addClass("filme-relacionado")
								
							}
						})
					})
					
					$(".catalogo")
						.append($("<div />")
							.addClass("filme")
							.append($("<h2 />")
								.text(filme.titulo)
							)
							.append($("<img />")
								.attr("src",filme.figura)
								.addClass("filme-figura")
							)

							.append($("<p />")
								.text(filme.resumo)
								.addClass("filme-resumo")
							)
							.append($("<p />")
								.text("Classificação: "+filme.classificacao)
								.addClass("classificacao")
							)
							.append($("<div />")
								.addClass("filme-details")
								.append($("<p />")
									.text("Elenco:")	
								)
								.append($ul1)
								.append($("<p />")
									.text("Gêneros:")
								)
								.append($ul2)
							)
							.append($("<div />")
								.addClass("filme-rating")
								.append($ul)
								
							)
							.append($("<p />")
								.text("Títulos Relacionados")
								.addClass("relacionado")
							)
							.append($div1)
					)
				})
				$(".filme-relacionado img").on({
				 mouseenter: function() {
					$(this).animate({width:'350px'},800);
				 },
				 mouseleave: function() {
					$(this).animate({width:'300px'},800);
				 }
				}); 
				
			});
		</script>
	</head>
	<body>
		<img src="./img/netflix.jpg" class="netflix"/>
		<div class="catalogo">
			
		</div>
		
	</body>
</html>
